(function(e){})(null),function(e,t){window.falafel=t.exports}(function(){return{parse:esprima.parse}},{exports:{}});var inBrowser=typeof window!="undefined"&&this===window,parseAndModify=inBrowser?window.falafel:require("falafel");(inBrowser?window:exports).blanket=function(){var e=["ExpressionStatement","BreakStatement","ContinueStatement","VariableDeclaration","ReturnStatement","ThrowStatement","TryStatement","FunctionDeclaration","IfStatement","WhileStatement","DoWhileStatement","ForStatement","ForInStatement","SwitchStatement","WithStatement"],t=["IfStatement","WhileStatement","DoWhileStatement","ForStatement","ForInStatement","WithStatement"],n=inBrowser?"window._$blanket":"_$jscoverage",r,i=Math.floor(Math.random()*1e3),s={},o={reporter:null,adapter:null,filter:null,orderedLoading:!0,loader:null,ignoreScriptError:!1,existingRequireJS:!1,autoStart:!1,timeout:180,ignoreCors:!1,branchTracking:!1,sourceURL:!1,debug:!1,engineOnly:!1,testReadyCallback:null,commonJS:!1};return inBrowser&&typeof window.blanket!="undefined"&&(r=window.blanket.noConflict()),_blanket={noConflict:function(){return r?r:_blanket},_getCopyNumber:function(){return i},extend:function(e){_blanket._extend(_blanket,e)},_extend:function(e,t){if(t)for(var n in t)e[n]instanceof Object&&typeof e[n]!="function"?_blanket._extend(e[n],t[n]):e[n]=t[n]},options:function(e,t){if(typeof e!="string")_blanket._extend(o,e);else{if(typeof t=="undefined")return o[e];o[e]=t}},instrument:function(e,t){var n=e.inputFile,r=e.inputFileName,i=_blanket._prepareSource(n);_blanket._trackingArraySetup=[];var s=parseAndModify(n,{loc:!0,comment:!0},_blanket._addTracking(r));s=_blanket._trackingSetup(r,i)+s,_blanket.options("sourceURL")&&(s+="\n//@ sourceURL="+r.replace("http://","")),_blanket.options("debug")&&console.log("BLANKET-Instrumented file: ",r),t(s)},_trackingArraySetup:[],_branchingArraySetup:[],_prepareSource:function(e){return e.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/(\r\n|\n|\r)/gm,"\n").split("\n")},_trackingSetup:function(e,t){var r=_blanket.options("branchTracking"),i=t.join("',\n'"),s="";return s+="if (typeof "+n+" === 'undefined') "+n+" = {};\n",r&&(s+="var _$branchFcn=function(f,l,c,r){ ",s+="if (!!r) { ",s+=n+"[f].branchData[l][c][0] = "+n+"[f].branchData[l][c][0] || [];",s+=n+"[f].branchData[l][c][0].push(r); }",s+="else { ",s+=n+"[f].branchData[l][c][1] = "+n+"[f].branchData[l][c][1] || [];",s+=n+"[f].branchData[l][c][1].push(r); }",s+="return r;};\n"),s+="if (typeof "+n+"['"+e+"'] === 'undefined'){",s+=n+"['"+e+"']=[];\n",r&&(s+=n+"['"+e+"'].branchData=[];\n"),s+=n+"['"+e+"'].source=['"+i+"'];\n",_blanket._trackingArraySetup.sort(function(e,t){return parseInt(e,10)>parseInt(t,10)}).forEach(function(t){s+=n+"['"+e+"']["+t+"]=0;\n"}),r&&_blanket._branchingArraySetup.sort(function(e,t){return e.line>t.line}).sort(function(e,t){return e.column>t.column}).forEach(function(t){t.file===e&&(s+="if (typeof "+n+"['"+e+"'].branchData["+t.line+"] === 'undefined'){\n",s+=n+"['"+e+"'].branchData["+t.line+"]=[];\n",s+="}",s+=n+"['"+e+"'].branchData["+t.line+"]["+t.column+"] = [];\n",s+=n+"['"+e+"'].branchData["+t.line+"]["+t.column+"].consequent = "+JSON.stringify(t.consequent)+";\n",s+=n+"['"+e+"'].branchData["+t.line+"]["+t.column+"].alternate = "+JSON.stringify(t.alternate)+";\n")}),s+="}",s},_blockifyIf:function(e){if(t.indexOf(e.type)>-1){var n=e.consequent||e.body,r=e.alternate;r&&r.type!=="BlockStatement"&&r.update("{\n"+r.source()+"}\n"),n&&n.type!=="BlockStatement"&&n.update("{\n"+n.source()+"}\n")}},_trackBranch:function(e,t){var n=e.loc.start.line,r=e.loc.start.column;_blanket._branchingArraySetup.push({line:n,column:r,file:t,consequent:e.consequent.loc,alternate:e.alternate.loc});var i=e.source(),s="_$branchFcn('"+t+"',"+n+","+r+","+i.slice(0,i.indexOf("?"))+")"+i.slice(i.indexOf("?"));e.update(s)},_addTracking:function(t){return function(r){_blanket._blockifyIf(r);if(e.indexOf(r.type)>-1&&r.parent.type!=="LabeledStatement"){if(r.type==="VariableDeclaration"&&(r.parent.type==="ForStatement"||r.parent.type==="ForInStatement"))return;if(!r.loc||!r.loc.start)throw new Error("The instrumenter encountered a node with no location: "+Object.keys(r));r.update(n+"['"+t+"']["+r.loc.start.line+"]++;\n"+r.source()),_blanket._trackingArraySetup.push(r.loc.start.line)}else _blanket.options("branchTracking")&&r.type==="ConditionalExpression"&&_blanket._trackBranch(r,t)}},setupCoverage:function(){s.instrumentation="blanket",s.stats={suites:0,tests:0,passes:0,pending:0,failures:0,start:new Date}},_checkIfSetup:function(){if(!s.stats)throw new Error("You must call blanket.setupCoverage() first.")},onTestStart:function(){_blanket.options("debug")&&console.log("BLANKET-Test event started"),this._checkIfSetup(),s.stats.tests++,s.stats.pending++},onTestDone:function(e,t){this._checkIfSetup(),t===e?s.stats.passes++:s.stats.failures++,s.stats.pending--},onModuleStart:function(){this._checkIfSetup(),s.stats.suites++},onTestsDone:function(){_blanket.options("debug")&&console.log("BLANKET-Test event done"),this._checkIfSetup(),s.stats.end=new Date,inBrowser?this.report(s):(_blanket.options("branchTracking")||delete _$jscoverage.branchFcn,this.options("reporter").call(this,s))}},_blanket}(),function(_blanket){var oldOptions=_blanket.options;_blanket.extend({outstandingRequireFiles:[],options:function(e,t){var n={};if(typeof e!="string")oldOptions(e),n=e;else{if(typeof t=="undefined")return oldOptions(e);oldOptions(e,t),n[e]=t}n.adapter&&_blanket._loadFile(n.adapter),n.loader&&_blanket._loadFile(n.loader)},requiringFile:function(e,t){typeof e=="undefined"?_blanket.outstandingRequireFiles=[]:typeof t=="undefined"?_blanket.outstandingRequireFiles.push(e):_blanket.outstandingRequireFiles.splice(_blanket.outstandingRequireFiles.indexOf(e),1)},requireFilesLoaded:function(){return _blanket.outstandingRequireFiles.length===0},showManualLoader:function(){if(document.getElementById("blanketLoaderDialog"))return;var e="<div class='blanketDialogOverlay'>";e+="&nbsp;</div>",e+="<div class='blanketDialogVerticalOffset'>",e+="<div class='blanketDialogBox'>",e+="<b>Error:</b> Blanket.js encountered a cross origin request error while instrumenting the source files.  ",e+="<br><br>This is likely caused by the source files being referenced locally (using the file:// protocol). ",e+="<br><br>Some solutions include <a href='http://askubuntu.com/questions/160245/making-google-chrome-option-allow-file-access-from-files-permanent' target='_blank'>starting Chrome with special flags</a>, <a target='_blank' href='https://github.com/remy/servedir'>running a server locally</a>, or using a browser without these CORS restrictions (Safari).",e+="<br>",typeof FileReader!="undefined"&&(e+="<br>Or, try the experimental loader.  When prompted, simply click on the directory containing all the source files you want covered.",e+="<a href='javascript:document.getElementById(\"fileInput\").click();'>Start Loader</a>",e+="<input type='file' type='application/x-javascript' accept='application/x-javascript' webkitdirectory id='fileInput' multiple onchange='window.blanket.manualFileLoader(this.files)' style='visibility:hidden;position:absolute;top:-50;left:-50'/>"),e+="<br><span style='float:right;cursor:pointer;'  onclick=document.getElementById('blanketLoaderDialog').style.display='none';>Close</span>",e+="<div style='clear:both'></div>",e+="</div></div>";var t=".blanketDialogWrapper {";t+="display:block;",t+="position:fixed;",t+="z-index:40001; }",t+=".blanketDialogOverlay {",t+="position:fixed;",t+="width:100%;",t+="height:100%;",t+="background-color:black;",t+="opacity:.5; ",t+="-ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=50)'; ",t+="filter:alpha(opacity=50); ",t+="z-index:40001; }",t+=".blanketDialogVerticalOffset { ",t+="position:fixed;",t+="top:30%;",t+="width:100%;",t+="z-index:40002; }",t+=".blanketDialogBox { ",t+="width:405px; ",t+="position:relative;",t+="margin:0 auto;",t+="background-color:white;",t+="padding:10px;",t+="border:1px solid black; }";var n=document.createElement("style");n.innerHTML=t,document.head.appendChild(n);var r=document.createElement("div");r.id="blanketLoaderDialog",r.className="blanketDialogWrapper",r.innerHTML=e,document.body.insertBefore(r,document.body.firstChild)},manualFileLoader:function(e){function o(e){var t=new FileReader;t.onload=s,t.readAsText(e)}var t=Array.prototype.slice;e=t.call(e).filter(function(e){return e.type!==""});var n=e.length-1,r=0,i={};sessionStorage.blanketSessionLoader&&(i=JSON.parse(sessionStorage.blanketSessionLoader));var s=function(t){var s=t.currentTarget.result,u=e[r],a=u.webkitRelativePath&&u.webkitRelativePath!==""?u.webkitRelativePath:u.name;i[a]=s,r++,r===n?(sessionStorage.setItem("blanketSessionLoader",JSON.stringify(i)),document.location.reload()):o(e[r])};o(e[r])},_loadFile:function(e){if(typeof e!="undefined"){var t=new XMLHttpRequest;t.open("GET",e,!1),t.send();var n=document.createElement("script");n.type="text/javascript",n.text=t.responseText,(document.body||document.getElementsByTagName("head")[0]).appendChild(n)}},hasAdapter:function(e){return _blanket.options("adapter")!==null},report:function(e){document.getElementById("blanketLoaderDialog")||(_blanket.blanketSession=null),e.files=window._$blanket,typeof e.files.branchFcn!="undefined"&&delete e.files.branchFcn;if(_blanket.options("reporter"))require([_blanket.options("reporter").replace(".js","")],function(t){t(e)});else{if(typeof _blanket.defaultReporter!="function")throw new Error("no reporter defined.");_blanket.defaultReporter(e)}},_bindStartTestRunner:function(e,t){e?e(t):window.addEventListener("load",t,!1)},_loadSourceFiles:function(e){function t(e){var t=Object.create(Object.getPrototypeOf(e)),n=Object.getOwnPropertyNames(e);return n.forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r)}),t}_blanket.options("debug")&&console.log("BLANKET-Collecting page scripts");var n=_blanket.utils.collectPageScripts();if(n.length===0)e();else{sessionStorage.blanketSessionLoader&&(_blanket.blanketSession=JSON.parse(sessionStorage.blanketSessionLoader));var r={paths:{},shim:{},waitSeconds:_blanket.options("timeout")},i={deps:[]},s=_blanket.options("orderedLoading"),o=[];n.forEach(function(e,n){var u="blanket_"+n;o.push(u),r.paths[u]=e,s&&(n>0&&(r.shim[u]=t(i)),i.deps=[u])}),require.config(r);var u=o;require(u,function(){e()})}},beforeStartTestRunner:function(opts){opts=opts||{},opts.checkRequirejs=typeof opts.checkRequirejs=="undefined"?!0:opts.checkRequirejs,opts.callback=opts.callback||function(){},opts.coverage=typeof opts.coverage=="undefined"?!0:opts.coverage,opts.coverage?_blanket._bindStartTestRunner(opts.bindEvent,function(){_blanket._loadSourceFiles(function(){var allLoaded=function(){return opts.condition?opts.condition():_blanket.requireFilesLoaded()},check=function(){if(allLoaded()){_blanket.options("debug")&&console.log("BLANKET-All files loaded, init start test runner callback.");var cb=_blanket.options("testReadyCallback");cb?typeof cb=="function"?cb(opts.callback):typeof cb=="string"&&(eval(cb),opts.callback()):opts.callback()}else setTimeout(check,13)};check()})}):opts.callback()},utils:{qualifyURL:function(e){var t=document.createElement("a");return t.href=e,t.href}}})}(blanket),typeof requirejs!="undefined"?blanket.options("existingRequireJS",!0):typeof window["define"]!="undefined"&&(window.__blanket_old_define=window.define,window.define=void 0),typeof window["__blanket_old_define"]!="undefined"&&(window.define=window.__blanket_old_define),blanket.defaultReporter=function(e){function l(e){var t=document.getElementById(e);t.style.display==="block"?t.style.display="none":t.style.display="block"}function d(e){return e.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/\>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&apos;")}function v(e,t){var n=t?0:1;return typeof e=="undefined"||typeof e===null||typeof e[n]=="undefined"?!1:e[n].length>0}function g(e,t,n,r,i){var s="",o="";if(m.length>0){s+="<span class='"+(v(m[0][1],m[0][1].consequent===m[0][0])?"branchOkay":"branchWarning")+"'>";if(m[0][0].end.line===i){s+=d(t.slice(0,m[0][0].end.column))+"</span>",t=t.slice(m[0][0].end.column),m.shift();if(m.length>0){s+="<span class='"+(v(m[0][1],!1)?"branchOkay":"branchWarning")+"'>";if(m[0][0].end.line===i){s+=d(t.slice(0,m[0][0].end.column))+"</span>",t=t.slice(m[0][0].end.column),m.shift();if(!n)return{src:s+d(t),cols:n}}else{if(!n)return{src:s+d(t)+"</span>",cols:n};o="</span>"}}else if(!n)return{src:s+d(t),cols:n}}else{if(!n)return{src:s+d(t)+"</span>",cols:n};o="</span>"}}var u=n[e],a=u.consequent;if(a.start.line>i)m.unshift([u.alternate,u]),m.unshift([a,u]),t=d(t);else{var f="<span class='"+(v(u,!0)?"branchOkay":"branchWarning")+"'>";s+=d(t.slice(0,a.start.column-r))+f;if(n.length>e+1&&n[e+1].consequent.start.line===i&&n[e+1].consequent.start.column-r<n[e].consequent.end.column-r){var l=g(e+1,t.slice(a.start.column-r,a.end.column-r),n,a.start.column-r,i);s+=l.src,n=l.cols,n[e+1]=n[e+2],n.length--}else s+=d(t.slice(a.start.column-r,a.end.column-r));s+="</span>";var c=u.alternate;if(c.start.line>i)s+=d(t.slice(a.end.column-r)),m.unshift([c,u]);else{s+=d(t.slice(a.end.column-r,c.start.column-r)),f="<span class='"+(v(u,!1)?"branchOkay":"branchWarning")+"'>",s+=f;if(n.length>e+1&&n[e+1].consequent.start.line===i&&n[e+1].consequent.start.column-r<n[e].alternate.end.column-r){var h=g(e+1,t.slice(c.start.column-r,c.end.column-r),n,c.start.column-r,i);s+=h.src,n=h.cols,n[e+1]=n[e+2],n.length--}else s+=d(t.slice(c.start.column-r,c.end.column-r));s+="</span>",s+=d(t.slice(c.end.column-r)),t=s}}return{src:t+o,cols:n}}var t="#blanket-main {margin:2px;background:#EEE;color:#333;clear:both;font-family:'Helvetica Neue Light', 'HelveticaNeue-Light', 'Helvetica Neue', Calibri, Helvetica, Arial, sans-serif; font-size:17px;} #blanket-main a {color:#333;text-decoration:none;}  #blanket-main a:hover {text-decoration:underline;} .blanket {margin:0;padding:5px;clear:both;border-bottom: 1px solid #FFFFFF;} .bl-error {color:red;}.bl-success {color:#5E7D00;} .bl-file{width:auto;} .bl-cl{float:left;} .blanket div.rs {margin-left:50px; width:150px; float:right} .bl-nb {padding-right:10px;} #blanket-main a.bl-logo {color: #EB1764;cursor: pointer;font-weight: bold;text-decoration: none} .bl-source{ overflow-x:scroll; background-color: #FFFFFF; border: 1px solid #CBCBCB; color: #363636; margin: 25px 20px; width: 80%;} .bl-source div{white-space: pre;font-family: monospace;} .bl-source > div > span:first-child{background-color: #EAEAEA;color: #949494;display: inline-block;padding: 0 10px;text-align: center;width: 30px;} .bl-source .miss{background-color:#e6c3c7} .bl-source span.branchWarning{color:#000;background-color:yellow;} .bl-source span.branchOkay{color:#000;background-color:transparent;}",n=60,r=document.head,i=0,s=document.body,o,u=Object.keys(e.files).some(function(t){return typeof e.files[t].branchData!="undefined"}),a="<div id='blanket-main'><div class='blanket bl-title'><div class='bl-cl bl-file'><a href='http://alex-seville.github.com/blanket/' target='_blank' class='bl-logo'>Blanket.js</a> results</div><div class='bl-cl rs'>Coverage (%)</div><div class='bl-cl rs'>Covered/Total Smts.</div>"+(u?"<div class='bl-cl rs'>Covered/Total Branches</div>":"")+"<div style='clear:both;'></div></div>",f="<div class='blanket {{statusclass}}'><div class='bl-cl bl-file'><span class='bl-nb'>{{fileNumber}}.</span><a href='javascript:blanket_toggleSource(\"file-{{fileNumber}}\")'>{{file}}</a></div><div class='bl-cl rs'>{{percentage}} %</div><div class='bl-cl rs'>{{numberCovered}}/{{totalSmts}}</div>"+(u?"<div class='bl-cl rs'>{{passedBranches}}/{{totalBranches}}</div>":"")+"<div id='file-{{fileNumber}}' class='bl-source' style='display:none;'>{{source}}</div><div style='clear:both;'></div></div>",c=document.createElement("script");c.type="text/javascript",c.text=l.toString().replace("function "+l.name,"function blanket_toggleSource"),s.appendChild(c);var h=function(e,t){return Math.round(e/t*100*100)/100},p=function(e,t,n){var r=document.createElement(e);r.innerHTML=n,t.appendChild(r)},m=[],y=function(e){return typeof e!="undefined"},b=e.files;for(var w in b){i++;var E=b[w],S=0,x=0,T=[],N,C=[];for(N=0;N<E.source.length;N+=1){var k=E.source[N];if(m.length>0||typeof E.branchData!="undefined")if(typeof E.branchData[N+1]!="undefined"){var L=E.branchData[N+1].filter(y),A=0;k=g(A,k,L,0,N+1).src}else m.length?k=g(0,k,null,0,N+1).src:k=d(k);else k=d(k);var O="";E[N+1]?(x+=1,S+=1,O="hit"):E[N+1]===0&&(S++,O="miss"),T[N+1]="<div class='"+O+"'><span class=''>"+(N+1)+"</span>"+k+"</div>"}var M=0,_=0;if(typeof E.branchData!="undefined")for(var D=0;D<E.branchData.length;D++)if(typeof E.branchData[D]!="undefined")for(var P=0;P<E.branchData[D].length;P++)typeof E.branchData[D][P]!="undefined"&&(M++,typeof E.branchData[D][P][0]!="undefined"&&E.branchData[D][P][0].length>0&&typeof E.branchData[D][P][1]!="undefined"&&E.branchData[D][P][1].length>0&&_++);var H=h(x,S),B=f.replace("{{file}}",w).replace("{{percentage}}",H).replace("{{numberCovered}}",x).replace(/\{\{fileNumber\}\}/g,i).replace("{{totalSmts}}",S).replace("{{totalBranches}}",M).replace("{{passedBranches}}",_).replace("{{source}}",T.join(" "));H<n?B=B.replace("{{statusclass}}","bl-error"):B=B.replace("{{statusclass}}","bl-success"),a+=B}a+="</div>",p("style",r,t),document.getElementById("blanket-main")?document.getElementById("blanket-main").innerHTML=a.slice(23,-6):p("div",s,a)},function(){var e={},t=Array.prototype.slice,n=t.call(document.scripts);t.call(n[n.length-1].attributes).forEach(function(t){t.nodeName==="data-cover-only"&&(e.filter=t.nodeValue),t.nodeName==="data-cover-never"&&(e.antifilter=t.nodeValue),t.nodeName==="data-cover-reporter"&&(e.reporter=t.nodeValue),t.nodeName==="data-cover-adapter"&&(e.adapter=t.nodeValue),t.nodeName==="data-cover-loader"&&(e.loader=t.nodeValue),t.nodeName==="data-cover-timeout"&&(e.timeout=t.nodeValue),t.nodeName==="testReadyCallback"&&(e.testReadyCallback=t.nodeValue);if(t.nodeName==="data-cover-flags"){var n=" "+t.nodeValue+" ";n.indexOf(" unordered ")>-1&&(e.order=!1),n.indexOf(" ignoreError ")>-1&&(e.ignoreScriptError=!0),n.indexOf(" autoStart ")>-1&&(e.autoStart=!0),n.indexOf(" ignoreCors ")>-1&&(e.ignoreCors=!0),n.indexOf(" branchTracking ")>-1&&(e.branchTracking=!0),n.indexOf(" sourceURL ")>-1&&(e.sourceURL=!0),n.indexOf(" debug ")>-1&&(e.debug=!0),n.indexOf(" engineOnly ")>-1&&(e.engineOnly=!0),n.indexOf(" commonJS ")>-1&&(e.commonJS=!0)}}),blanket.options(e)}(),function(e){e.extend({utils:{normalizeBackslashes:function(e){return e.replace(/\\/g,"/")},matchPatternAttribute:function(t,n){if(typeof n=="string"){if(n.indexOf("[")===0){var r=n.slice(1,n.length-1).split(",");return r.some(function(n){return e.utils.matchPatternAttribute(t,e.utils.normalizeBackslashes(n.slice(1,-1)))})}if(n.indexOf("//")===0){var i=n.slice(2,n.lastIndexOf("/")),s=n.slice(n.lastIndexOf("/")+1),o=new RegExp(i,s);return o.test(t)}return n.indexOf("#")===0?window[n.slice(1)].call(window,t):t.indexOf(e.utils.normalizeBackslashes(n))>-1}if(n instanceof Array)return n.some(function(n){return e.utils.matchPatternAttribute(t,n)});if(n instanceof RegExp)return n.test(t);if(typeof n=="function")return n.call(window,t)},blanketEval:function(e){return(window.execScript||function(e){window.eval.call(window,e)})(e)},collectPageScripts:function(){var t=Array.prototype.slice,n=t.call(document.scripts),r=[],i=[],s=e.options("filter");if(s!=null){var o=e.options("antifilter");r=t.call(document.scripts).filter(function(n){return t.call(n.attributes).filter(function(t){return t.nodeName==="src"&&e.utils.matchPatternAttribute(t.nodeValue,s)&&(typeof o=="undefined"||!e.utils.matchPatternAttribute(t.nodeValue,o))}).length===1})}else r=t.call(document.querySelectorAll("script[data-cover]"));return i=r.map(function(n){return e.utils.qualifyURL(t.call(n.attributes).filter(function(e){return e.nodeName==="src"})[0].nodeValue).replace(".js","")}),s||e.options("filter","['"+i.join("','")+"']"),i}}}),e.options("engineOnly")||(e.utils.oldloader=requirejs.load,requirejs.load=function(t,n,r){e.requiringFile(r),requirejs.cget(r,function(i){var s=e.options("commonJS");s&&(i="define(require,exports,module){"+i+"});");var o=e.options("filter"),u=e.options("antifilter");typeof u!="undefined"&&e.utils.matchPatternAttribute(r.replace(".js",""),u)?(e.utils.oldloader(t,n,r),e.options("debug")&&console.log("BLANKET-File will never be instrumented:"+r),e.requiringFile(r,!0)):e.utils.matchPatternAttribute(r.replace(".js",""),o)?(e.options("debug")&&console.log("BLANKET-Attempting instrument of:"+r),e.instrument({inputFile:i,inputFileName:r},function(i){try{e.utils.blanketEval(i),t.completeLoad(n),e.requiringFile(r,!0)}catch(s){if(!e.options("ignoreScriptError"))throw new Error("Error parsing instrumented code: "+s);e.options("debug")&&console.log("BLANKET-There was an error loading the file:"+r),t.completeLoad(n),e.requiringFile(r,!0)}})):(e.options("debug")&&console.log("BLANKET-Loading (without instrumenting) the file:"+r),e.utils.oldloader(t,n,r),e.requiringFile(r,!0))},function(t){throw e.requiringFile(),t})},requirejs.createXhr=function(){var e,t,n;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(t=0;t<3;t+=1){n=progIds[t];try{e=new ActiveXObject(n)}catch(r){}if(e){progIds=[n];break}}return e},requirejs.cget=function(t,n,r,i){var s=!1;if(e.blanketSession){var o=Object.keys(e.blanketSession);for(var u=0;u<o.length;u++){var a=o[u];if(t.indexOf(a)>-1){n(e.blanketSession[a]),s=!0;return}}}if(!s){var f=requirejs.createXhr();f.open("GET",t,!0),i&&i(f,t),f.onreadystatechange=function(e){var i,s;f.readyState===4&&(i=f.status,i>399&&i<600?(s=new Error(t+" HTTP status: "+i),s.xhr=f,r(s)):n(f.responseText))};try{f.send(null)}catch(l){if(!l.code||l.code!==101&&l.code!==1012||e.options("ignoreCors")!==!1)throw l;e.showManualLoader()}}})}(blanket),function(){function e(e,t){return(t-e)/1e3}function t(e){function t(e){return e<10?"0"+e:e}return e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())+"T"+t(e.getHours())+":"+t(e.getMinutes())+":"+t(e.getSeconds())}function n(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}function r(e){return e.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/\>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&apos;")}if(!jasmine)throw new Exception("jasmine library does not exist in global namespace!");var i=function(e,t,n){blanket.setupCoverage()};i.finished_at=null,i.prototype={reportSpecStarting:function(e){blanket.onTestStart()},reportSpecResults:function(e){var t=e.results();blanket.onTestDone(t.totalCount,t.passed())},reportRunnerResults:function(e){blanket.onTestsDone()},log:function(e){var t=jasmine.getGlobal().console;t&&t.log&&t.log(e)}},jasmine.BlanketReporter=i,jasmine.getEnv().execute=function(){console.log("waiting for blanket...")};var s=function(){return window.jasmine.getEnv().currentRunner().specs().length>0&&blanket.requireFilesLoaded()};blanket.beforeStartTestRunner({checkRequirejs:!0,condition:s,callback:function(){jasmine.getEnv().addReporter(new jasmine.BlanketReporter),window.jasmine.getEnv().currentRunner().execute(),jasmine.getEnv().execute=jasmine.getEnv().currentRunner().execute}})}();